<!DOCTYPE html>
<html lang="en-IN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment - Electronics Store</title>
    <link rel="icon" type="image/x-icon" href="../assets/infinityMedia/favicon.png">
    <link rel="stylesheet" href="../assets/css/bootstrap.core.min.css">
    <link rel="stylesheet" href="../assets/css/userCustomizations.css">
    <style>
        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px 0;
            background: white;
            margin-bottom: 20px;
        }
        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 20px;
            font-weight: bold;
            position: relative;
        }
        .step.active {
            background: #2874f0;
            color: white;
        }
        .step.completed {
            background: #28a745;
            color: white;
        }
        .step.pending {
            background: #e9ecef;
            color: #6c757d;
        }
        .step::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            width: 40px;
            height: 2px;
            background: #e9ecef;
            transform: translateY(-50%);
        }
        .step:last-child::after {
            display: none;
        }
        .step.completed::after {
            background: #28a745;
        }
        .payment-method {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .payment-method:hover {
            border-color: #2874f0;
        }
        .payment-method.selected {
            border-color: #2874f0;
            background-color: #f8f9ff;
        }
        .payment-logos {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        .payment-logo {
            height: 40px;
            object-fit: contain;
        }
        .countdown-timer {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="container-fluid py-2 header-container" style="background-color:#2874f0">
        <div class="row header align-items-center">
            <div class="col-2">
                <div class="menu-icon" onclick="goBack()">
                    <svg width="19" height="16" viewBox="0 0 19 16" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.556 7.847H1M7.45 1L1 7.877l6.45 6.817" stroke="#FFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg> 
                </div>
            </div>
            <div class="col-8 text-center">
                <h5 class="text-white mb-0">Payments</h5>
            </div>
        </div>
    </div>

    <!-- Progress Steps -->
    <div class="step-indicator">
        <div class="step completed">‚úì</div>
        <div class="step completed">‚úì</div>
        <div class="step active">3</div>
    </div>
    <div class="text-center mb-4">
        <small class="text-muted">Address ‚Üí Order Summary ‚Üí Payment</small>
    </div>

    <div class="container">
        <!-- Countdown Timer -->
        <div class="countdown-timer">
            <span>Offer ends in </span>
            <span id="countdown">06min 20sec</span>
        </div>

        <!-- Payment Methods -->
        <div class="card mb-3">
            <div class="card-body">
                <h6 class="mb-3">Select Payment Method</h6>
                
                <div class="payment-method" onclick="selectPayment('upi')">
                    <div class="d-flex align-items-center">
                        <input type="radio" name="payment" value="upi" class="me-3">
                        <div>
                            <strong>UPI / Cards / Netbanking</strong>
                            <p class="small text-muted mb-0">Pay using UPI, Credit/Debit Cards or Net Banking</p>
                        </div>
                    </div>
                </div>

                <div class="payment-method" onclick="selectPayment('cod')">
                    <div class="d-flex align-items-center">
                        <input type="radio" name="payment" value="cod" class="me-3">
                        <div>
                            <strong>Cash on Delivery</strong>
                            <p class="small text-muted mb-0">Pay when you receive the product</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Price Details -->
        <div class="card mb-3">
            <div class="card-body">
                <h6 class="mb-3">Price Details</h6>
                <div class="d-flex justify-content-between mb-2">
                    <span>Price (1 item)</span>
                    <span id="itemPrice">‚Çπ867.00</span>
                </div>
                <div class="d-flex justify-content-between mb-2">
                    <span>Delivery Charges</span>
                    <span class="text-success">FREE</span>
                </div>
                <hr>
                <div class="d-flex justify-content-between">
                    <strong>Amount Payable</strong>
                    <strong id="totalPayable">‚Çπ867.00</strong>
                </div>
            </div>
        </div>

        <!-- Security Info -->
        <div class="card mb-5">
            <div class="card-body text-center">
                <div class="row mb-3">
                    <div class="col-4">
                        <div class="mb-2">üõ°Ô∏è</div>
                        <small>Authentic</small>
                    </div>
                    <div class="col-4">
                        <div class="mb-2">üîí</div>
                        <small>Secure Payments</small>
                    </div>
                    <div class="col-4">
                        <div class="mb-2">‚Ü©Ô∏è</div>
                        <small>Easy Returns</small>
                    </div>
                </div>
                
                <!-- Payment Logos -->
                <div class="payment-logos">
                    <div style="background: #1a1f71; color: white; padding: 8px 12px; border-radius: 4px; font-weight: bold;">VISA</div>
                    <div style="background: linear-gradient(45deg, #eb001b, #ff5f00); color: white; padding: 8px 12px; border-radius: 4px; font-weight: bold;">MC</div>
                    <div style="background: #00baf2; color: white; padding: 8px 12px; border-radius: 4px; font-weight: bold;">RuPay</div>
                    <div style="background: #0066cc; color: white; padding: 8px 12px; border-radius: 4px; font-weight: bold;">UPI</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fixed Bottom Section -->
    <div style="position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 15px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1);">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <span class="text-muted">‚Çπ47,999.00</span>
                <button class="btn" style="background: #ffc107; color: black; font-weight: bold; padding: 12px 30px; border-radius: 8px;" onclick="processPayment()">
                    Order Now
                </button>
            </div>
            <div class="text-center">
                <strong>‚Çπ867.00</strong>
            </div>
        </div>
    </div>

    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/bootstrap.min.js"></script>
    <script>
        function goBack() {
            window.history.back();
        }

        function selectPayment(method) {
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            document.querySelector(`input[value="${method}"]`).checked = true;
        }

        function processPayment() {
            const selectedPayment = document.querySelector('input[name="payment"]:checked');
            if (!selectedPayment) {
                alert('Please select a payment method');
                return;
            }

            // Simulate payment processing
            alert('Payment processing... This is a demo website. No actual payment will be processed.');
            
            // Redirect to success page
            setTimeout(() => {
                window.location.href = 'order-success.html';
            }, 2000);
        }

        // Countdown timer
        function updateCountdown() {
            const now = new Date();
            const minutes = now.getMinutes();
            const seconds = now.getSeconds();
            const totalSeconds = minutes * 60 + seconds;
            const cycleSeconds = 20 * 60; // 20 minutes
            const remaining = cycleSeconds - (totalSeconds % cycleSeconds);
            
            const mins = Math.floor(remaining / 60);
            const secs = remaining % 60;
            
            document.getElementById('countdown').textContent = `${String(mins).padStart(2, '0')}min ${String(secs).padStart(2, '0')}sec`;
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();

        // Load saved data
        document.addEventListener('DOMContentLoaded', function() {
            const address = JSON.parse(localStorage.getItem('delivery_address') || '{}');
            if (address.fullName) {
                document.getElementById('customerName').textContent = address.fullName;
                document.getElementById('customerAddress').textContent = 
                    `${address.houseNo}, ${address.roadName}, ${address.city}, ${address.state} - ${address.pincode}`;
            }
        });
    </script>
</body>
</html>